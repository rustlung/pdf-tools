# PDF Tools CLI

Консольное приложение для работы с PDF-файлами на Python.

## Возможности

| Функция | Описание |
|---------|----------|
| **Собрать PDF** | Объединение изображений в многостраничный PDF с выбором порядка |
| **Разобрать PDF** | Извлечение страниц PDF в виде изображений (PNG/JPG) |
| **Сжать PDF** | Уменьшение размера PDF через Ghostscript |

## Быстрый старт

```bash
# 1. Установка зависимостей
pip install -r requirements.txt

# 2. Запуск
python main.py
```

## Требования

- **Python 3.11+**
- **Ghostscript** — только для функции сжатия (опционально)

## Структура папок

```
pdf_tools/
├── input/      ← Положите сюда исходные файлы
├── output/     ← Здесь появятся результаты
├── main.py     ← Точка входа
└── pdfcli/     ← Исходный код
```

> Папки `input/` и `output/` создаются автоматически при первом запуске.

---

## Использование

### 1. Собрать PDF из изображений

Поддерживаемые форматы: **PNG, JPG, JPEG, WEBP, TIF, TIFF**

1. Положите изображения в папку `input/`
2. Запустите `python main.py` → выберите пункт **1**
3. Выберите файлы и их порядок:

```
Варианты ввода:
  * (или Enter) - все файлы в текущем порядке
  1 3 5         - файлы 1, 3, 5 в указанном порядке
  1-5           - файлы с 1 по 5
  1-3 7 9-11    - комбинация
  5-1           - обратный порядок
  0             - отмена
```

4. Введите имя выходного файла
5. Результат: `output/<имя>.pdf`

### 2. Разобрать PDF на изображения

1. Положите PDF в папку `input/`
2. Запустите `python main.py` → выберите пункт **2**
3. Выберите PDF из списка (если несколько)
4. Укажите параметры:
   - **DPI** — разрешение (72–600, по умолчанию 150)
   - **Формат** — PNG или JPG
5. Результат: `output/<имя_pdf>/page_001.png, page_002.png, ...`

### 3. Сжать PDF

1. Положите PDF в папку `input/`
2. Запустите `python main.py` → выберите пункт **3**
3. Выберите PDF из списка
4. Выберите пресет сжатия:

| Пресет | Качество | DPI | Размер |
|--------|----------|-----|--------|
| `screen` | Низкое | 72 | Минимальный |
| `ebook` | Среднее | 150 | Сбалансированный |
| `printer` | Высокое | 300 | Для печати |
| `prepress` | Максимальное | 300 | Максимальный |

5. Результат: `output/<имя>_compressed_<пресет>.pdf`

---

## Ghostscript

Требуется только для функции сжатия PDF.

### Проверка установки

```bash
# Windows
gswin64c --version

# Linux / macOS
gs --version
```

### Установка

**Windows:**
1. Скачайте: https://ghostscript.com/releases/gsdnld.html
2. Установите (запомните путь)
3. Добавьте в PATH: `C:\Program Files\gs\gs<версия>\bin`
4. Может потребоваться перезагрузка системы для корректного определения наличия Ghostscript в системе

**Linux (Debian/Ubuntu):**
```bash
sudo apt install ghostscript
```

**macOS:**
```bash
brew install ghostscript
```

---

## Зависимости

| Пакет | Назначение |
|-------|------------|
| `pillow` | Работа с изображениями |
| `pymupdf` | Работа с PDF (библиотека fitz) |

---

## Устранение неполадок

### «Ghostscript не найден»
- Убедитесь, что Ghostscript установлен
- Проверьте, что путь к `gswin64c.exe` (Windows) или `gs` (Linux/macOS) добавлен в PATH
- Перезапустите терминал после изменения PATH

### «Нет прав на запись»
- Закройте файл, если он открыт в другой программе
- Проверьте права доступа к папке `output/`

### «Файл повреждён или защищён паролем»
- PDF может быть зашифрован — снимите защиту перед обработкой
- Попробуйте открыть файл в PDF-ридере для проверки

---

